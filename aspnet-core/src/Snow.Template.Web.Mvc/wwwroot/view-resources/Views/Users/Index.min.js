function queryParams(n){return{maxResultCount:n.limit,skipCount:n.offset}}(function(){function u(){var n=[];return n.push('<div class="btn-group" role="group" aria-label="Row Operation">'),abp.auth.isGranted("Pages.Administration.Users.Edit")&&n.push('<button type="button" class="btn btn-sm btn-warning edit" title="'+app.localize("Edit")+'"><i class="fas fa-edit"><\/i>'+app.localize("Edit")+"<\/button>"),abp.auth.isGranted("Pages.Administration.Users.Delete")&&n.push('<button type="button" class="btn btn-sm btn-danger remove" title="'+app.localize("Delete")+'"><i class="fas fa-trash"><\/i>'+app.localize("Delete")+"<\/button>"),n.push("<\/div>"),n.join("")}function f(){var f,o,i,r,u,s;if(abp.ui.setBusy(n),f=$("#modelForm"),!f.valid())return abp.ui.clearBusy(n),!1;if(o=e(),i=f.serializeFormToObject(),i.SetRandomPassword&&(i.Password=null),r=$("input[name='role']:checked"),r)for(u=0;u<r.length;u++)s=$(r[u]),i.roleNames.push(s.val());t.createOrUpdate({user:i,assignedRoleNames:o}).done(function(){abp.notify.info(app.localize("SavedSuccessfully"));n.modal("hide");refreshTable()}).always(function(){abp.ui.clearBusy(n)})}function e(){var t=[];return n.find(".user-role-checkbox-list input[type=checkbox]").each(function(){$(this).is(":checked")&&t.push($(this).attr("name"))}),t}function r(t,i){n=bootbox.dialog({title:t,message:'<p><i class="fa fa-spin fa-spinner"><\/i> '+app.localize("Loading")+"<\/p>",size:"large",buttons:{cancel:{label:app.localize("Cancel"),className:"btn-danger"},confirm:{label:app.localize("OK"),className:"btn-success",callback:function(n){if(n)return f(),!1}}}});n.init(function(){$.get(abp.appPath+"users/createOrEditModal",{id:i},function(t){n.find(".bootbox-body").html(t);n.find("input:not([type=hidden]):first").focus()})})}var t=abp.services.app.user,n,i;window.operateEvents={"click .edit":function(n,t,i){n.preventDefault();r(app.localize("EditUser",i.name),i.id)},"click .remove":function(n,i,r){bootbox.confirm({size:"small",title:app.localize("Delete"),message:abp.utils.formatString(abp.localization.localize("AreYouSureWantToDelete","Template"),r.name),callback:function(n){n&&t.delete({id:r.id}).done(function(){var n=$("#tb-body");n.bootstrapTable("remove",{field:"id",values:[r.id]})})}})}};i=[{checkbox:!0},{field:"id",title:"Id",visible:!1},{field:"userName",title:app.localize("UserName")},{field:"name",title:app.localize("Name")},{field:"emailAddress",title:app.localize("EmailAddress")},{title:app.localize("Operation"),formatter:u,events:operateEvents}];$(function(){table.init("api/services/app/user/getPaged",i);$("#create").click(function(){r(app.localize("CreateNewUser"))})})})();